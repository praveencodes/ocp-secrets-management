apiVersion: secrets-management.openshift.io/v1alpha1
kind: SecretsManagementConfig
metadata:
  name: cluster
spec:
  # UI Feature Toggles
  features:
    delete:
      enabled: true
      checkRBAC: true      # Use SelfSubjectAccessReview to check permissions
    create:
      enabled: false       # Not implemented yet
    edit:
      enabled: false       # Not implemented yet
  
  # RBAC Configuration
  rbac:
    createDefaultRoles: true
    rolePrefix: secrets-management
  
  # Plugin Deployment
  plugin:
    # Image is substituted by 'make deploy-sample PLUGIN_IMG=...' (see README)
    image: openshift.io/ocp-secrets-management:latest
    imagePullPolicy: Always
    replicas: 2
    resources:
      requests:
        cpu: "10m"
        memory: "50Mi"
      limits:
        cpu: "100m"
        memory: "128Mi"
  
  # Operator Settings
  operators:
    certManager:
      enabled: true
    externalSecrets:
      enabled: true
    secretsStoreCSI:
      enabled: true
